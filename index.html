<script>
const SHEET_ID = "18F2mJsiSWYbxSl97u4vKEX9pTuEOuoL1WaGE5PB_iJ0";
const SHEET_NAME = "μ‹νΈ1";
const RANGE = "E12:I15";

const board = document.getElementById("board");
let prevData = "";

async function fetchData() {
  const url = `https://opensheet.elk.sh/${SHEET_ID}/${encodeURIComponent(SHEET_NAME)}!${RANGE}?t=${Date.now()}`;

  try {
    const res = await fetch(url);
    const data = await res.json();
    render(data);
  } catch (e) {
    console.error("λ°μ΄ν„° λ΅λ“ μ‹¤ν¨:", e);
  }
}

function render(data) {
  if (!data || !data.length) return;

  const json = JSON.stringify(data);
  if (json === prevData) return;
  prevData = json;

  board.innerHTML = "";

  // ν—¤λ”
  const header = document.createElement("div");
  header.className = "row header";
  header.innerHTML = `
    <div class="rank">μμ„</div>
    <div>π™οΈ μ¤νΈλ¦¬λ¨Έ</div>
    <div class="num">π¥1μ„ΈνΈ</div>
    <div class="num">π¥2μ„ΈνΈ</div>
    <div class="num">π¥3μ„ΈνΈ</div>
    <div class="score">π“μµμΆ… μ μ</div>
  `;
  board.appendChild(header);

  data.forEach((row, i) => {
    const div = document.createElement("div");
    div.className = "row";

    if (i === 0) div.classList.add("gold");
    if (i === 1) div.classList.add("silver");
    if (i === 2) div.classList.add("bronze");

    const medal = i === 0 ? "π‘‘" : i === 1 ? "π¥" : i === 2 ? "π¥‰" : i + 1;

    div.innerHTML = `
      <div class="rank ${i === 0 ? "crown" : ""}">${medal}</div>
      <div class="name">${row["π™οΈμ¤νΈλ¦¬λ¨Έ"] || ""}</div>
      <div class="num">${row["π¥1μ„ΈνΈ"] || ""}</div>
      <div class="num">${row["π¥2μ„ΈνΈ"] || ""}</div>
      <div class="num">${row["π¥3μ„ΈνΈ"] || ""}</div>
      <div class="score">${row["π“μµμΆ… μ μ"] || ""}</div>
    `;
    board.appendChild(div);
  });
}

fetchData();
setInterval(fetchData, 2000);
</script>











