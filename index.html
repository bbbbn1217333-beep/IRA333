<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>μ¤νΈλ¦¬λ¨Έ μ μν</title>

<style>
body {
  margin: 0;
  background: transparent;
  font-family: "Pretendard", "Apple SD Gothic Neo", sans-serif;
  color: white;
}

.board {
  width: 720px;
  background: rgba(10,10,10,0.85);
  border-radius: 20px;
  padding: 16px;
}

.row {
  display: grid;
  grid-template-columns: 60px 1.5fr 1fr 1fr 1fr 1.2fr;
  align-items: center;
  padding: 10px 12px;
  margin-bottom: 8px;
  border-radius: 12px;
  background: rgba(255,255,255,0.05);
  transition: background 0.3s;
}

.header {
  font-weight: 800;
  font-size: 15px;
  background: rgba(255,255,255,0.1);
}

.rank {
  font-size: 22px;
  text-align: center;
}

.gold { background: linear-gradient(90deg, #ffcc00, #ffb700); color: black; }
.silver { background: linear-gradient(90deg, #cfd8dc, #b0bec5); color: black; }
.bronze { background: linear-gradient(90deg, #d7a86e, #b87333); color: black; }

.crown {
  animation: bounce 1.2s infinite;
}

@keyframes bounce {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}
</style>
</head>

<body>
<div class="board" id="board"></div>

<script>
const SHEET_ID = "18F2mJsiSWYbxSl97u4vKEX9pTuEOuoL1WaGE5PB_iJ0";
const SHEET_NAME = "μ‹νΈ1";
const RANGE = "E11:I15";

const URL = `https://opensheet.elk.sh/${SHEET_ID}/${SHEET_NAME}!${RANGE}`;

const board = document.getElementById("board");
let prevData = "";

function render(data) {
  const json = JSON.stringify(data);
  if (json === prevData) return; // λ³€ν™” μ—†μΌλ©΄ κ°±μ‹  μ• ν•¨
  prevData = json;

  board.innerHTML = "";

  // ν—¤λ”
  const header = document.createElement("div");
  header.className = "row header";
  header.innerHTML = `
    <div>#</div>
    <div>π™οΈμ¤νΈλ¦¬λ¨Έ</div>
    <div>π¥1μ„ΈνΈ</div>
    <div>π¥2μ„ΈνΈ</div>
    <div>π¥3μ„ΈνΈ</div>
    <div>π“μµμΆ… μ μ</div>
  `;
  board.appendChild(header);

  data.forEach((row, i) => {
    const score = Number(row["π“μµμΆ… μ μ"]) || 0;

    const div = document.createElement("div");
    div.className = "row";

    if (i === 0) div.classList.add("gold");
    if (i === 1) div.classList.add("silver");
    if (i === 2) div.classList.add("bronze");

    const medal =
      i === 0 ? "π‘‘" :
      i === 1 ? "π¥" :
      i === 2 ? "π¥‰" : i + 1;

    div.innerHTML = `
      <div class="rank ${i === 0 ? "crown" : ""}">${medal}</div>
      <div>${row["π™οΈμ¤νΈλ¦¬λ¨Έ"]}</div>
      <div>${row["π¥1μ„ΈνΈ"]}</div>
      <div>${row["π¥2μ„ΈνΈ"]}</div>
      <div>${row["π¥3μ„ΈνΈ"]}</div>
      <div><b>${score}</b></div>
    `;

    board.appendChild(div);
  });
}

async function fetchData() {
  try {
    const res = await fetch(URL);
    const data = await res.json();
    render(data);
  } catch (e) {
    console.error(e);
  }
}

fetchData();
setInterval(fetchData, 2000);
</script>
</body>
</html>







